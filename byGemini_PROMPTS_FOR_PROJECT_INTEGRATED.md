# 쿠폰 어드민 프롬프트 (기능+디자인 통합 / HTMX 기반)

이 문서는 AI 코딩 어시스턴트에게 순서대로 입력하여 '쿠폰 어드민' 프론트엔드를 완성하기 위한 **기능-디자인 통합 프롬프트 (HTMX 하이브리드 방식)** 모음입니다.

---

## 1단계: 프로젝트 계획 및 MPA 하이브리드 기반 구축

### Prompt 1-1: 프로젝트 초기 계획 및 기반 구축 (HTMX 적용)

"'쿠폰 발송 관리 어드민' 웹사이트의 프론트엔드를 **MPA 하이브리드 (HTMX)** 방식으로 개발할 거야.

**1. 핵심 페이지:**
   - `index.html` (로그인)
   - `sendCoupon.html` (발송등록)
   - `sendQuery.html` (발송조회)
   - `sendCs.html` (C/S)

**2. 기술 스택:**
   - `HTML`, `CSS`, `JavaScript` (ES6+ 문법)
   - `Bootstrap 5`, `Font Awesome`, `Flatpickr`, `xlsx.js`, **`HTMX`**

**3. 공통 UI/UX 요구사항:**
   - **부분 새로고침:** 페이지 이동은 **HTMX**를 사용해 전체 새로고침 없이, 내용이 바뀌는 `<main id="content">` 영역만 부드럽게 교체되어야 해.
   - **공통 레이아웃:** 모든 페이지는 `partials/header.html`과 `partials/footer.html`을 동적으로 로드하는 구조를 가져야 해. 푸터에는 `&copy; 2024 Coupon Admin System. All Rights Reserved.` 문구를 넣어줘.
   - **HTMX 설정:**
     - `header.html`의 네비게이션 링크에 `hx-get`, `hx-target="#content"`, `hx-select="#content"`, `hx-push-url="true"` 속성을 추가해줘.
     - `js/main.js`에 HTMX로 페이지가 교체된 후(`htmx:afterSwap` 이벤트), 각 페이지에 맞는 JS 초기화 함수(`initSendCoupon` 등)를 호출하는 로직을 추가해줘.
   - **전체 스타일:** `css/style.css`에 공통 디자인 시스템을 정의해줘.
     - 배경색: `#F9FAFB` (연한 회색)
     - 기본 텍스트 색상: `#374151` (진한 회색)
     - 헤더 배경색: `#374151`
     - 카드(Card) 스타일: 흰색 배경, 둥근 모서리(0.75rem), 그림자 효과(`box-shadow`)

이 계획을 바탕으로 기본적인 파일 구조와 초기 코드를 모두 생성해줘."

---

## 2단계: 페이지별 상세 기능 및 디자인 구현

### Prompt 2-1: 발송등록 페이지 (sendCoupon.html)

"`sendCoupon.html` 파일의 `<main id="content">` 내부에 발송등록 페이지의 UI를 만들어줘.  
그리고 `js/sendCoupon.js` 파일을 만들고, 이 페이지의 모든 기능을 초기화하는 `initSendCoupon()` 함수를 작성해줘.

**1. 레이아웃:**
   - 전체적으로 2단 레이아웃으로 구성해줘. 왼쪽은 7칸(`col-md-7`), 오른쪽은 5칸(`col-md-5`)을 차지하게 해줘.
   - 모든 섹션은 우리가 정의한 스타일의 `card` 컴포넌트로 감싸줘.
   - `sendCoupon.html`의 `<main>` 태그에는 `data-page="sendCoupon"` 속성을 추가해서, `htmx:afterSwap` 이벤트 발생 시 어떤 페이지의 스크립트를 실행할지 식별할 수 있게 해줘.
   - 각 `card`의 제목(`card-title`)은 하단에 회색(`E5E7EB`) 밑줄을 추가해줘.
   - 필수 입력 항목을 나타내는 라벨과 카드 제목에는 빨간색 별표(`*`)가 표시되도록 `::after` 가상 요소를 사용해줘.

**2. 왼쪽 컬럼 UI 및 기능:**
   - **기본 정보, 상품 정보, 발송 항목 카드:** `input`과 `label`을 배치해줘.
     - `input`은 포커스 시 파란색(`2563EB`) 테두리와 그림자 효과가 나타나도록 스타일을 적용해줘.
     - 모든 텍스트 `input`과 `textarea`에는 글자 수를 실시간으로 보여주는 카운터를 추가해줘.
     - '발송 예약일시'는 `flatpickr`를 사용해서 날짜와 시간을 함께 선택할 수 있게 해줘.
     - '상품 검색' 버튼 클릭 시, 가상 상품 목록이 담긴 Bootstrap 모달(`productSearchModal`)을 띄우고, 상품 '선택' 시 해당 정보가 폼에 자동으로 채워지게 해줘.

**3. 오른쪽 컬럼 UI 및 기능:**
   - **MMS 미리보기 카드:** 상단에 회색(`4B5563`) 배경의 제목을 넣고, 중앙에 샘플 이미지(`images/sample-mms.png`)를 표시해줘.
   - **수신자 정보 등록 카드:**
     - '간편등록'과 '대량등록(엑셀)' 탭 UI를 만들어줘. 활성화된 탭은 파란색(`2563EB`)으로 표시해줘.
     - **간편등록:**
       - `textarea`와 좌우에 줄 번호, 유효성(O/X) 표시 영역을 만들어줘. 세 영역의 스크롤이 동기화되어야 해.
       - 휴대폰 번호는 숫자만 입력 가능하게 하고, '010'은 11자리, 그 외 '01x'는 10~11자리일 때만 유효(O)로 표시해줘. 100건을 초과하면 입력을 막아줘.
     - **대량등록(엑셀):**
       - 파일 업로드(`input type="file"`)와 '샘플 다운로드' 버튼을 만들어줘.
       - 엑셀 파일 업로드 시, 유효성을 검사하고(최대 20,000건), 유효한 번호 목록을 테이블 형태의 미리보기로 보여줘. 오류 발생 시 경고창을 띄우고 폼을 초기화해줘.
     - 탭 전환 시, 입력된 데이터가 있으면 "현재 입력된 내용이 삭제됩니다." 라는 `confirm` 창을 띄워줘.

**4. 최종 액션 버튼:**
   - 페이지 하단 중앙에 '저장/발송'(파란색 `btn-primary`)과 '취소'(회색 `btn-secondary`) 버튼을 크게(`btn-lg`) 만들어줘.
   - **저장/발송:** 모든 필수 항목과 수신자 번호 유효성을 검사하고, 실패 시 `alert`과 함께 해당 필드로 포커스를 이동시켜줘. 성공 시, 발송 정보를 요약한 `confirm` 창을 띄우고, 확인 시 '발송 요청 완료' 알림 후 페이지를 새로고침해줘.
   - **취소:** 작성된 내용이 있으면 "작성 중인 내용이 모두 사라집니다." 라는 확인 모달(`unsavedChangesModal`)을 띄우고, 확인 시에만 페이지를 새로고침해줘."

---

### Prompt 2-2: 발송조회 페이지 (sendQuery.html)

"`sendQuery.html` 파일의 `<main id="content">` 내부에 발송조회 페이지의 UI를 만들어줘.  
그리고 `js/sendQuery.js` 파일을 만들고, 이 페이지의 모든 기능을 초기화하는 `initSendQuery()` 함수를 작성해줘.

**1. 레이아웃 및 스타일:**
   - '조회 조건'과 '조회 결과'를 각각의 `card` 컴포넌트로 만들어줘.
   - `sendQuery.html`의 `<main>` 태그에는 `data-page="sendQuery"` 속성을 추가해줘.
   - 조회 결과 테이블은 `table-hover` 클래스를 적용하고, 각 컬럼의 너비는 `css/style.css`에 정의된 `col-dispatch-datetime` 등의 클래스로 고정해줘.
   - 내용이 긴 '고객사', '이벤트명' 등은 한 줄로 표시하고 말줄임표(`...`)가 나타나도록 `truncate-text` 클래스를 적용해줘.
   - '발송상태'는 값에 따라 다른 색상의 Bootstrap `badge` (완료-success, 예약-warning 등)를 사용해줘.

**2. 기능 및 인터랙션:**
   - **조회 조건:**
     - '발송일'은 `flatpickr`를 사용한 기간 선택(range) 기능으로 구현하고, 기본값은 '지난달 1일 ~ 오늘'로 설정해줘.
     - '고객사', '이벤트명' 입력창에는 내용 입력 시 'X' 버튼이 나타나고, 클릭 시 내용이 삭제되는 `clear-input-btn` 기능을 추가해줘.
   - **조회 결과:**
     - '조회' 버튼 클릭 시 조건에 맞는 데이터를 필터링해서 보여줘.
     - **테이블 정렬:** `data-sortable` 속성이 있는 테이블 헤더(`th`)를 클릭하면, 해당 컬럼 기준으로 오름차순/내림차순 정렬이 되고 정렬 아이콘(▲/▼)이 바뀌도록 해줘.
     - **무한 스크롤:** 처음에는 10개만 로드하고, 페이지 스크롤을 내리면 다음 10개 데이터를 로딩해서 추가해줘. 로딩 중에는 스피너 아이콘을 표시해줘.
   - **상세보기 모달:**
     - '보기' 버튼 클릭 시, `modal-xl` 사이즈의 상세 정보 모달(`detailModal`)을 띄워줘.
     - 모달 내부에도 무한 스크롤, 쿠폰번호 검색, 엑셀 다운로드 기능을 추가해줘."

---

### Prompt 2-3: C/S 페이지 (sendCs.html)

"`sendCs.html` 파일의 `<main id="content">` 내부에 C/S 페이지의 UI를 만들어줘.  
그리고 `js/sendCs.js` 파일을 만들고, 이 페이지의 모든 기능을 초기화하는 `initSendCs()` 함수를 작성해줘.

**1. 레이아웃 및 스타일:**
   - '조회 조건'과 '조회 결과'를 `card`로 구성해줘.
   - `sendCs.html`의 `<main>` 태그에는 `data-page="sendCs"` 속성을 추가해줘.
   - 결과 테이블의 'CS처리' 컬럼은 버튼 3개가 들어갈 충분한 너비(`col-cs-action`)를 확보해줘.
   - '교환상태'는 값에 따라 다른 색상의 `badge`를 사용해줘.
   - 유효기간이 만료된 쿠폰은 날짜 옆에 빨간색으로 '(만료)' 텍스트를 표시하고, CS처리 버튼들을 비활성화(`disabled`) 및 회색(`btn-outline-secondary`)으로 변경해줘.

**2. 기능 및 인터랙션:**
   - **조회:** '쿠폰번호' 또는 '휴대폰 번호'로 데이터를 검색할 수 있게 해줘.
   - **CS처리 버튼:**
     - '재발송', '쿠폰폐기' 버튼 클릭 시, 해당 동작을 확인하는 확인 모달(`csActionModal`)을 띄워줘. 확인 시, '처리되었습니다' 라는 메시지가 담긴 작은 성공 알림 모달(`successModal`)이 잠시 나타났다가 사라지게 해줘.
     - '번호변경' 버튼 클릭 시, 현재 번호와 변경할 번호를 입력받는 별도의 모달(`changePhoneModal`)을 띄워줘. '변경' 버튼을 누르면 다시 한번 확인 모달을 거친 후, 성공 알림을 표시해줘.
       - 이 때, 현재 번호와 동일한 번호를 입력하면 '번호가 동일합니다'라는 알림 모달(`alertModal`)을 띄우고 변경을 막아줘."

---

## 3단계: 전환 효과 개선

### Prompt 3-1: 페이드인/아웃 효과 추가

"HTMX로 페이지를 전환할 때 부드러운 효과를 주고 싶어.  
`#content` 영역이 교체될 때, 기존 내용은 페이드아웃되고 새 내용은 페이드인되도록 CSS transition 효과를 추가해줘. HTMX가 제공하는 `htmx-swapping` 클래스를 활용해서 opacity를 조절하는 방식으로 구현해줘."

---