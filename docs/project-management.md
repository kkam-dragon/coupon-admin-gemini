# 개발 관리 문서

## 1. 일정 관리
| 단계 | 기간(예상) | 주요 작업 |
| --- | --- | --- |
| 준비 | 주 1 | 문서 정비, Docker 환경 구축, 계정/접근 제어 설정 |
| 스프린트 1 | 주 2-3 | 인증/권한, 발송등록 API, 상품 동기화, 수신자 업로드 |
| 스프린트 2 | 주 4-5 | 예약 워커, 쿠폰 발급, SNAP Agent 연동, MMS 이미지 렌더러 |
| 스프린트 3 | 주 6-7 | 발송조회 API/리포트, 결과 동기화, 취소 처리 |
| 스프린트 4 | 주 8-9 | CS 기능, 쿠폰 상태/교환 정보 동기화, 감사 로그 |
| 안정화 | 주 10 | 성능 튜닝, 보안 점검, 배포 자동화, 문서 업데이트 |

> 실제 일정은 요구사항 변경과 연동 테스트 결과에 따라 조정된다.

## 2. 작업 프로세스
1. 요구사항/문서 업데이트 → 2. 이슈 생성 → 3. 브랜치 생성(`feature/<issue-key>`) → 4. 개발/테스트 → 5. PR 생성 → 6. 코드 리뷰/승인 → 7. 머지 → 8. 배포.
2. 중요 이슈는 주간 스탠드업(온라인)에서 공유, 진행률/위험도 업데이트.

## 3. 브랜치 전략
- `main`: 운영 배포 브랜치. 항상 배포 가능한 상태 유지.
- `develop`: 통합 테스트 브랜치. 기능 개발 완료 후 머지.
- `feature/*`: 개별 기능 작업용 브랜치. 완료 시 PR을 통해 `develop`에 병합.
- `hotfix/*`: 운영 긴급 수정. 완료 후 `main`과 `develop`에 모두 병합.

## 4. 버전 관리
- 버전 표기: `vYY.MM.patch` (예: `v24.04.0`).
- 스프린트 종료 시점마다 태그 생성, 변경 내역을 `CHANGELOG.md`에 기록.
- 문서 업데이트 커밋은 `[docs]`, 데이터베이스 마이그레이션은 `[db]`, 기능 추가는 `[feat]` 등의 prefix 사용.

## 5. 품질 보증
- **단위 테스트**: Pytest, coverage 80% 이상 유지.
- **통합 테스트**: Docker Compose 환경에서 외부 API를 모킹하여 실행.
- **보안 테스트**: OWASP ZAP 스캔, 정적 분석(Bandit), 의존성 취약점 검사(`pip-audit`).
- **성능 테스트**: Locust로 발송등록/조회/CS 시나리오 부하 테스트, 목표 TPS 20.

## 6. 배포 전략
- 개발/스테이징/운영 3계층. 운영 배포 전 스테이징에서 공급사/통신사 연동 리허설.
- 카페24 VPS: `nginx -> gunicorn -> FastAPI` 구성, systemd 서비스로 관리.
- 데이터베이스 마이그레이션은 `alembic upgrade head`를 배포 스크립트에 포함.
- 롤백: 이전 태그 체크아웃 후 마이그레이션 다운그레이드, SNAP Agent 큐 상태 확인.

## 7. 커뮤니케이션
- 이슈/PR: GitHub.
- 실시간 커뮤니케이션: Slack/Teams(선택) 채널.
- 정기 회의: 주간 진행 회의(30분), 월간 리포트 공유.
- 산출물 보관: GitHub + 내부 공유 드라이브. 민감 문서는 암호화 압축 후 공유.

## 8. 위험 관리
| 위험 요소 | 영향 | 대응 |
| --- | --- | --- |
| 공급사 API 장애 | 쿠폰 발급/상태 동기화 지연 | 재시도/백오프, 공급사 담당자 핫라인, 발송 보류 기능 |
| SNAP Agent 오류 | MMS 발송 실패 | 헬스 체크, 대체 발송(재시도), UMS_MSG 모니터링 |
| 개인정보 유출 | 법적 리스크 | 암호화/접근제어/로그감사, 주기적 보안 점검 |
| 대량 발송 지연 | 캠페인 SLA 위반 | 워커 수평 확장, Redis 큐 도입, 성능 모니터링 |
| 문서 미갱신 | 요구 불일치 | 문서 변경 프로세스 의무화, 리뷰어 확인 |

## 9. 산출물 목록
- 문서: `docs/` 내 마스터 플랜, 기능 명세, 아키텍처, 데이터 모델, AI 가이드, 본 문서.
- 코드: `backend/` (추후 생성), `MyDocuments/` 참고 자료.
- 테스트: pytest 리포트, 부하 테스트 결과, 보안 스캔 보고서.

## 10. 저장소 구조 및 AGENTS 가이드
- 루트 디렉터리에 위치한 `AGENTS.md`는 **모든 하위 폴더에 공통 적용**되는 작업 지침이다. 문서를 포함해 어떤 파일을 수정하든 우선 해당 지침과 `docs/`, `MyDocuments/`의 요구사항을 확인한다.
- 로컬 PC에서 작업 중 `git status`로 `AGENTS.md`가 보이지 않는다면, 최신 브랜치를 체크아웃했는지 확인하고 `git pull`로 동기화한다. 모든 개발자는 동일한 전역 지침을 사용해야 하므로, 파일을 임의로 삭제하거나 변경하지 않는다.
- 디렉터리별로 추가 지침이 필요하면, 해당 폴더에 별도의 `AGENTS.md`를 생성하고 팀 합의 후 커밋한다. 예를 들어 `backend/AGENTS.md`에서 테스트 커버리지 기준을 강화할 수 있다.
- 새 문서를 추가하거나 구조를 바꿀 때는 이 섹션을 갱신하여 저장소 구조 변경 사항을 팀 전체에 공유한다.