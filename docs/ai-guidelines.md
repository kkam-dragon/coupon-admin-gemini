# AI 개발 가이드라인

## 1. 목적
AI 도구(예: ChatGPT, GitHub Copilot 등)를 활용해도 프로젝트 의도와 보안 요구사항을 일관되게 유지하기 위한 규칙을 정의한다.

## 2. 일반 원칙
1. **문서 우선**: 코드를 작성하거나 수정하기 전에 `docs/` 및 `MyDocuments/`의 최신 문서를 반드시 검토한다.
2. **근거 명시**: PR/커밋 메시지에는 참조한 문서와 요구사항 근거를 인용한다.
3. **점진적 개발**: 기능은 화면 단위(발송등록 → 발송조회 → CS)로 순차 구현하며, 범위 확장은 문서 업데이트 후 진행한다.
4. **보안 준수**: 암호화/마스킹 정책과 개인정보 처리 방침을 어기는 코드는 작성하지 않는다.
5. **테스트 병행**: 단위/통합 테스트 없이 운영 코드에 반영하지 않는다.

## 3. 코드 작성 지침
- 언어: Python 3.11(FastAPI). 다른 언어로 제안할 경우 제품 담당자의 서면 승인 필요.
- 스타일: PEP 8, 타입 힌트 사용, SQLAlchemy ORM 기반.
- 예외 처리: 외부 API 연동은 재시도/타임아웃/에러 코드 매핑을 구현하고, 로깅 시 민감 데이터 마스킹.
- 암호화: AES 키/IV는 환경 변수에서 주입, 코드에 하드코딩 금지.
- 로그: 구조화(JSON) 로깅, `client_key`, 상태 값 중심으로 기록.

## 4. 데이터 및 개인정보 보호
- 테스트 데이터에도 가명 처리된 번호/이메일만 사용.
- 로그/디버그 출력에 바코드 번호 전체를 노출하지 않는다 (마지막 4자리만).
- 개발 중 수집한 파일/엑셀은 저장소에 커밋하지 않는다.

## 5. 협업 프로세스
1. 이슈 생성 → 문서 업데이트(필요 시) → 브랜치 생성 → 개발.
2. PR 템플릿: 변경 요약, 테스트 결과, 영향 범위, 보안 검토 항목 포함.
3. 코드 리뷰: 최소 1명 이상 승인 후 머지, 긴급 패치는 사후 리뷰 필수.
4. 배포 체크리스트: 마이그레이션 적용, 환경 변수, 외부 API 키 확인, SNAP Agent 상태 점검.

## 6. AI 사용 제한
- 공급사/LG유플러스 비공개 키, 고객사 실데이터 등 민감 정보는 AI 프롬프트에 절대 입력하지 않는다.
- AI가 생성한 코드/문서는 사람이 검증 후 커밋한다.
- AGENTS.md 지침과 충돌 시 AGENTS.md를 우선시한다.

## 7. 문서 유지
- 문서 변경 시 PR에 포함하고, 커밋 메시지에 `[docs]` 태그 사용.
- 문서는 한국어를 기본으로 작성하되, 필요 시 용어 표기(영문 병기)를 허용.
- 공급사/통신사 사양 변경 시 해당 문서와 관련 섹션을 48시간 내 업데이트.